{"ast":null,"code":"import React from'react';import{Navigate,useLocation}from'react-router-dom';import{useAppSelector}from'../store/hooks';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRouteElement=_ref=>{let{onlyUnAuth=false,children}=_ref;const isAuth=useAppSelector(state=>state.user.isAuth);const location=useLocation();if(onlyUnAuth&&isAuth){var _location$state;return/*#__PURE__*/_jsx(Navigate,{to:((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||'/',replace:true});}if(!onlyUnAuth&&!isAuth){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});}return children;};export default ProtectedRouteElement;","map":{"version":3,"names":["React","Navigate","useLocation","useAppSelector","jsx","_jsx","ProtectedRouteElement","_ref","onlyUnAuth","children","isAuth","state","user","location","_location$state","to","from","replace"],"sources":["/Users/antonkaliberov/Desktop/Обучение реакт/Спринт 1 /react-burger/src/components/protected-route-element.tsx"],"sourcesContent":["import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAppSelector } from '../store/hooks';\nimport { RootState } from '../store/types';\n\ninterface Props {\n  onlyUnAuth?: boolean;\n  children: React.ReactElement;\n}\n\nconst ProtectedRouteElement: React.FC<Props> = ({\n  onlyUnAuth = false,\n  children,\n}) => {\n  const isAuth = useAppSelector((state: RootState) => state.user.isAuth);\n  const location = useLocation();\n\n  if (onlyUnAuth && isAuth) {\n    return <Navigate to={location.state?.from || '/'} replace />;\n  }\n\n  if (!onlyUnAuth && !isAuth) {\n    return <Navigate to='/login' state={{ from: location }} replace />;\n  }\n\n  return children;\n};\n\nexport default ProtectedRouteElement;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,cAAc,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAQhD,KAAM,CAAAC,qBAAsC,CAAGC,IAAA,EAGzC,IAH0C,CAC9CC,UAAU,CAAG,KAAK,CAClBC,QACF,CAAC,CAAAF,IAAA,CACC,KAAM,CAAAG,MAAM,CAAGP,cAAc,CAAEQ,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACF,MAAM,CAAC,CACtE,KAAM,CAAAG,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,GAAIM,UAAU,EAAIE,MAAM,CAAE,KAAAI,eAAA,CACxB,mBAAOT,IAAA,CAACJ,QAAQ,EAACc,EAAE,CAAE,EAAAD,eAAA,CAAAD,QAAQ,CAACF,KAAK,UAAAG,eAAA,iBAAdA,eAAA,CAAgBE,IAAI,GAAI,GAAI,CAACC,OAAO,MAAE,CAAC,CAC9D,CAEA,GAAI,CAACT,UAAU,EAAI,CAACE,MAAM,CAAE,CAC1B,mBAAOL,IAAA,CAACJ,QAAQ,EAACc,EAAE,CAAC,QAAQ,CAACJ,KAAK,CAAE,CAAEK,IAAI,CAAEH,QAAS,CAAE,CAACI,OAAO,MAAE,CAAC,CACpE,CAEA,MAAO,CAAAR,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAH,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}