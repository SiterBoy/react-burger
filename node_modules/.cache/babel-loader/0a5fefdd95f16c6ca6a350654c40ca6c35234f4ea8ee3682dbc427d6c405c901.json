{"ast":null,"code":"import React from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{useAppDispatch}from'../store/hooks';import{logoutUser}from'../store/slices/user-slice';import styles from'./profile-page.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilePage=()=>{const location=useLocation();const navigate=useNavigate();const dispatch=useAppDispatch();const handleLogout=async()=>{try{await dispatch(logoutUser()).unwrap();navigate('/login');}catch(error){console.error('Ошибка при выходе:',error);}};const isActive=path=>{if(path==='/profile'){return location.pathname===path;}return location.pathname.startsWith(path);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"nav\",{className:styles.nav,children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:`${styles.link} ${isActive('/profile')?styles.active:''}`,children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile/orders\",className:`${styles.link} ${isActive('/profile/orders')?styles.active:''}`,children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.link,type:\"button\",onClick:handleLogout,children:\"\\u0412\\u044B\\u0445\\u043E\\u0434\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[location.pathname==='/profile'&&/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),location.pathname==='/profile/orders'&&/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"})]})]});};export default ProfilePage;","map":{"version":3,"names":["React","Link","useLocation","useNavigate","useAppDispatch","logoutUser","styles","jsx","_jsx","jsxs","_jsxs","ProfilePage","location","navigate","dispatch","handleLogout","unwrap","error","console","isActive","path","pathname","startsWith","className","container","children","nav","to","link","active","type","onClick","content","title"],"sources":["/Users/antonkaliberov/Desktop/Обучение реакт/Спринт 1 /react-burger/src/pages/profile-page.tsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAppDispatch } from '../store/hooks';\nimport { logoutUser } from '../store/slices/user-slice';\nimport styles from './profile-page.module.css';\n\nconst ProfilePage: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n\n  const handleLogout = async () => {\n    try {\n      await dispatch(logoutUser()).unwrap();\n      navigate('/login');\n    } catch (error) {\n      console.error('Ошибка при выходе:', error);\n    }\n  };\n\n  const isActive = (path: string) => {\n    if (path === '/profile') {\n      return location.pathname === path;\n    }\n    return location.pathname.startsWith(path);\n  };\n\n  return (\n    <div className={styles.container}>\n      <nav className={styles.nav}>\n        <Link\n          to='/profile'\n          className={`${styles.link} ${isActive('/profile') ? styles.active : ''}`}\n        >\n          Профиль\n        </Link>\n        <Link\n          to='/profile/orders'\n          className={`${styles.link} ${isActive('/profile/orders') ? styles.active : ''}`}\n        >\n          История заказов\n        </Link>\n        <button className={styles.link} type='button' onClick={handleLogout}>\n          Выход\n        </button>\n      </nav>\n      <div className={styles.content}>\n        {location.pathname === '/profile' && (\n          <h1 className={styles.title}>Профиль</h1>\n        )}\n        {location.pathname === '/profile/orders' && (\n          <h1 className={styles.title}>История заказов</h1>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,OAASC,UAAU,KAAQ,4BAA4B,CACvD,MAAO,CAAAC,MAAM,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,QAAQ,CAAGV,cAAc,CAAC,CAAC,CAEjC,KAAM,CAAAW,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAD,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC,CAACW,MAAM,CAAC,CAAC,CACrCH,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAIC,IAAY,EAAK,CACjC,GAAIA,IAAI,GAAK,UAAU,CAAE,CACvB,MAAO,CAAAR,QAAQ,CAACS,QAAQ,GAAKD,IAAI,CACnC,CACA,MAAO,CAAAR,QAAQ,CAACS,QAAQ,CAACC,UAAU,CAACF,IAAI,CAAC,CAC3C,CAAC,CAED,mBACEV,KAAA,QAAKa,SAAS,CAAEjB,MAAM,CAACkB,SAAU,CAAAC,QAAA,eAC/Bf,KAAA,QAAKa,SAAS,CAAEjB,MAAM,CAACoB,GAAI,CAAAD,QAAA,eACzBjB,IAAA,CAACP,IAAI,EACH0B,EAAE,CAAC,UAAU,CACbJ,SAAS,CAAE,GAAGjB,MAAM,CAACsB,IAAI,IAAIT,QAAQ,CAAC,UAAU,CAAC,CAAGb,MAAM,CAACuB,MAAM,CAAG,EAAE,EAAG,CAAAJ,QAAA,CAC1E,4CAED,CAAM,CAAC,cACPjB,IAAA,CAACP,IAAI,EACH0B,EAAE,CAAC,iBAAiB,CACpBJ,SAAS,CAAE,GAAGjB,MAAM,CAACsB,IAAI,IAAIT,QAAQ,CAAC,iBAAiB,CAAC,CAAGb,MAAM,CAACuB,MAAM,CAAG,EAAE,EAAG,CAAAJ,QAAA,CACjF,uFAED,CAAM,CAAC,cACPjB,IAAA,WAAQe,SAAS,CAAEjB,MAAM,CAACsB,IAAK,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEhB,YAAa,CAAAU,QAAA,CAAC,gCAErE,CAAQ,CAAC,EACN,CAAC,cACNf,KAAA,QAAKa,SAAS,CAAEjB,MAAM,CAAC0B,OAAQ,CAAAP,QAAA,EAC5Bb,QAAQ,CAACS,QAAQ,GAAK,UAAU,eAC/Bb,IAAA,OAAIe,SAAS,CAAEjB,MAAM,CAAC2B,KAAM,CAAAR,QAAA,CAAC,4CAAO,CAAI,CACzC,CACAb,QAAQ,CAACS,QAAQ,GAAK,iBAAiB,eACtCb,IAAA,OAAIe,SAAS,CAAEjB,MAAM,CAAC2B,KAAM,CAAAR,QAAA,CAAC,uFAAe,CAAI,CACjD,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}