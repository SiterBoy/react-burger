{"ast":null,"code":"import{configureStore}from'@reduxjs/toolkit';import{authMiddleware}from'./middleware/auth';import userReducer from'./slices/user-slice';import ingredientsReducer from'./slices/ingredients-slice';import constructorReducer from'./slices/constructor-slice';import orderReducer from'./slices/order-slice';import tabsReducer from'./slices/tabs-slice';import ingredientDetailsReducer from'./slices/ingredient-details-slice';import appReducer from'./slices/app-slice';import orderFeedReducer,{wsFeedStart,wsFeedSuccess,wsFeedError,wsFeedClosed,wsFeedMessage}from'./slices/order-feed-slice';import{wsMiddleware,BASE_WS_URL}from'./middleware/ws-middleware';import profileOrdersReducer,{wsProfileStart,wsProfileSuccess,wsProfileError,wsProfileClosed,wsProfileMessage}from'./slices/profile-orders-slice';const wsFeedUrl=`${BASE_WS_URL}/orders/all`;const wsProfileUrl=token=>`${BASE_WS_URL}/orders${token?`?token=${token}`:''}`;const store=configureStore({reducer:{user:userReducer,ingredients:ingredientsReducer,burgerConstructor:constructorReducer,order:orderReducer,tabs:tabsReducer,ingredientDetails:ingredientDetailsReducer,app:appReducer,orderFeed:orderFeedReducer,profileOrders:profileOrdersReducer},middleware:getDefaultMiddleware=>getDefaultMiddleware().concat(authMiddleware).concat(wsMiddleware(wsFeedUrl,{wsStart:wsFeedStart.type,wsSuccess:wsFeedSuccess.type,wsError:wsFeedError.type,wsClosed:wsFeedClosed.type,wsMessage:wsFeedMessage.type})).concat(wsMiddleware(wsProfileUrl,{wsStart:wsProfileStart.type,wsSuccess:wsProfileSuccess.type,wsError:wsProfileError.type,wsClosed:wsProfileClosed.type,wsMessage:wsProfileMessage.type}))});export{store};","map":{"version":3,"names":["configureStore","authMiddleware","userReducer","ingredientsReducer","constructorReducer","orderReducer","tabsReducer","ingredientDetailsReducer","appReducer","orderFeedReducer","wsFeedStart","wsFeedSuccess","wsFeedError","wsFeedClosed","wsFeedMessage","wsMiddleware","BASE_WS_URL","profileOrdersReducer","wsProfileStart","wsProfileSuccess","wsProfileError","wsProfileClosed","wsProfileMessage","wsFeedUrl","wsProfileUrl","token","store","reducer","user","ingredients","burgerConstructor","order","tabs","ingredientDetails","app","orderFeed","profileOrders","middleware","getDefaultMiddleware","concat","wsStart","type","wsSuccess","wsError","wsClosed","wsMessage"],"sources":["/Users/antonkaliberov/Desktop/Обучение реакт/Спринт 1 /react-burger/src/store/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport { authMiddleware } from './middleware/auth';\nimport userReducer from './slices/user-slice';\nimport ingredientsReducer from './slices/ingredients-slice';\nimport constructorReducer from './slices/constructor-slice';\nimport orderReducer from './slices/order-slice';\nimport tabsReducer from './slices/tabs-slice';\nimport ingredientDetailsReducer from './slices/ingredient-details-slice';\nimport appReducer from './slices/app-slice';\nimport orderFeedReducer, {\n  wsFeedStart,\n  wsFeedSuccess,\n  wsFeedError,\n  wsFeedClosed,\n  wsFeedMessage\n} from './slices/order-feed-slice';\nimport { wsMiddleware, BASE_WS_URL } from './middleware/ws-middleware';\nimport profileOrdersReducer, {\n  wsProfileStart,\n  wsProfileSuccess,\n  wsProfileError,\n  wsProfileClosed,\n  wsProfileMessage\n} from './slices/profile-orders-slice';\n\nconst wsFeedUrl = `${BASE_WS_URL}/orders/all`;\nconst wsProfileUrl = (token?: string) => `${BASE_WS_URL}/orders${token ? `?token=${token}` : ''}`;\n\nconst store = configureStore({\n  reducer: {\n    user: userReducer,\n    ingredients: ingredientsReducer,\n    burgerConstructor: constructorReducer,\n    order: orderReducer,\n    tabs: tabsReducer,\n    ingredientDetails: ingredientDetailsReducer,\n    app: appReducer,\n    orderFeed: orderFeedReducer,\n    profileOrders: profileOrdersReducer\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware()\n      .concat(authMiddleware)\n      .concat(wsMiddleware(wsFeedUrl, {\n        wsStart: wsFeedStart.type,\n        wsSuccess: wsFeedSuccess.type,\n        wsError: wsFeedError.type,\n        wsClosed: wsFeedClosed.type,\n        wsMessage: wsFeedMessage.type\n      }))\n      .concat(wsMiddleware(wsProfileUrl, {\n        wsStart: wsProfileStart.type,\n        wsSuccess: wsProfileSuccess.type,\n        wsError: wsProfileError.type,\n        wsClosed: wsProfileClosed.type,\n        wsMessage: wsProfileMessage.type\n      }))\n});\n\nexport { store };\nexport type AppDispatch = typeof store.dispatch;\n"],"mappings":"AAAA,OAASA,cAAc,KAAQ,kBAAkB,CACjD,OAASC,cAAc,KAAQ,mBAAmB,CAClD,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,wBAAwB,KAAM,mCAAmC,CACxE,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,gBAAgB,EACrBC,WAAW,CACXC,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,aAAa,KACR,2BAA2B,CAClC,OAASC,YAAY,CAAEC,WAAW,KAAQ,4BAA4B,CACtE,MAAO,CAAAC,oBAAoB,EACzBC,cAAc,CACdC,gBAAgB,CAChBC,cAAc,CACdC,eAAe,CACfC,gBAAgB,KACX,+BAA+B,CAEtC,KAAM,CAAAC,SAAS,CAAG,GAAGP,WAAW,aAAa,CAC7C,KAAM,CAAAQ,YAAY,CAAIC,KAAc,EAAK,GAAGT,WAAW,UAAUS,KAAK,CAAG,UAAUA,KAAK,EAAE,CAAG,EAAE,EAAE,CAEjG,KAAM,CAAAC,KAAK,CAAG1B,cAAc,CAAC,CAC3B2B,OAAO,CAAE,CACPC,IAAI,CAAE1B,WAAW,CACjB2B,WAAW,CAAE1B,kBAAkB,CAC/B2B,iBAAiB,CAAE1B,kBAAkB,CACrC2B,KAAK,CAAE1B,YAAY,CACnB2B,IAAI,CAAE1B,WAAW,CACjB2B,iBAAiB,CAAE1B,wBAAwB,CAC3C2B,GAAG,CAAE1B,UAAU,CACf2B,SAAS,CAAE1B,gBAAgB,CAC3B2B,aAAa,CAAEnB,oBACjB,CAAC,CACDoB,UAAU,CAAGC,oBAAoB,EAC/BA,oBAAoB,CAAC,CAAC,CACnBC,MAAM,CAACtC,cAAc,CAAC,CACtBsC,MAAM,CAACxB,YAAY,CAACQ,SAAS,CAAE,CAC9BiB,OAAO,CAAE9B,WAAW,CAAC+B,IAAI,CACzBC,SAAS,CAAE/B,aAAa,CAAC8B,IAAI,CAC7BE,OAAO,CAAE/B,WAAW,CAAC6B,IAAI,CACzBG,QAAQ,CAAE/B,YAAY,CAAC4B,IAAI,CAC3BI,SAAS,CAAE/B,aAAa,CAAC2B,IAC3B,CAAC,CAAC,CAAC,CACFF,MAAM,CAACxB,YAAY,CAACS,YAAY,CAAE,CACjCgB,OAAO,CAAEtB,cAAc,CAACuB,IAAI,CAC5BC,SAAS,CAAEvB,gBAAgB,CAACsB,IAAI,CAChCE,OAAO,CAAEvB,cAAc,CAACqB,IAAI,CAC5BG,QAAQ,CAAEvB,eAAe,CAACoB,IAAI,CAC9BI,SAAS,CAAEvB,gBAAgB,CAACmB,IAC9B,CAAC,CAAC,CACR,CAAC,CAAC,CAEF,OAASf,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}